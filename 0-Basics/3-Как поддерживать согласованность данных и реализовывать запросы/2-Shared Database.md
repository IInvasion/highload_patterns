Паттерн **"Общая база данных"** (Shared Database) в архитектуре микросервисов предполагает использование одной базы данных, к которой имеют доступ несколько сервисов. Этот подход позволяет сервисам взаимодействовать друг с другом, используя общие данные, и обеспечивает простоту в управлении базой данных.

## Основные аспекты паттерна:

- **Совместный доступ**: Несколько сервисов, таких как `Order Service` и `Customer Service`, могут свободно обращаться к данным друг друга, что упрощает выполнение транзакций, охватывающих несколько сервисов.
- **ACID-транзакции**: Использование единой базы данных позволяет разработчикам применять знакомые ACID-транзакции для обеспечения согласованности данных. Например, при создании нового заказа можно проверить кредитный лимит клиента в рамках одной транзакции.

## Преимущества:

- **Простота эксплуатации**: Управление одной базой данных обычно проще, чем управление несколькими.
- **Упрощение разработки**: Разработчики могут использовать традиционные механизмы управления транзакциями для обеспечения целостности данных.

## Недостатки:

- **Сопряжение на этапе разработки**: Разработчики должны координировать изменения схемы базы данных с другими командами, что может замедлить процесс разработки.
- **Сопряжение во время выполнения**: Все сервисы работают с одной базой данных, что может привести к блокировкам и конфликтам. Например, длительная транзакция в одном сервисе может заблокировать доступ к таблицам для других сервисов.
- **Ограниченные возможности хранения данных**: Одна база данных может не удовлетворять всем требованиям различных сервисов по хранению и доступу к данным.

## Альтернативы:

Паттерн "База данных на сервис" (Database per Service) является альтернативным подходом, который предлагает каждому микросервису иметь свою собственную базу данных. Это позволяет избежать многих недостатков паттерна "Общая база данных", таких, как зависимость между командами и блокировки. Таким образом, паттерн "Общая база данных" может быть полезен в определенных сценариях, но требует внимательного управления и координации между командами для предотвращения проблем с производительностью и зависимостями.

[Ссылка на источник](https://microservices.io/patterns/data/shared-database.html)