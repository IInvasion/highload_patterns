Паттерн "Client-Side Discovery" описывает подход к обнаружению сервисов, при котором клиенты сами находят доступные экземпляры сервисов, используя реестр сервисов.

## Контекст

В микросервисной архитектуре сервисы часто взаимодействуют друг с другом. В отличие от монолитных приложений, где вызовы происходят через языковые методы, в распределенных системах сервисы могут динамически изменять свои местоположения. Это требует механизма, позволяющего клиентам делать запросы к изменяющимся экземплярам сервисов.

## Проблема

Клиенты сталкиваются с несколькими трудностями:

- **Динамические адреса**: Экземпляры сервисов могут иметь динамические IP-адреса.
- **Изменение количества экземпляров**: Количество экземпляров может изменяться в зависимости от нагрузки.

## Решение

При выполнении запроса клиент запрашивает реестр сервисов для получения адреса доступного экземпляра. Это реализуется с помощью компонентов, таких как Netflix OSS (Eureka для реестра и Ribbon для HTTP-клиента), которые обеспечивают клиентскую службу обнаружения.

## Преимущества Client-Side Discovery:

- **Меньше сетевых переходов**: Сравнительно с серверной службой обнаружения, этот подход требует меньше сетевых переходов.
- **Простота**: Упрощает архитектуру за счет уменьшения количества компонентов.

## Недостатки:

- **Связь с реестром**: Клиенты зависят от реестра сервисов.
- **Необходимость реализации логики**: Нужно реализовывать логику обнаружения для каждого языка программирования или фреймворка.

## Связанные паттерны

- Паттерн "Service Registry" является основным компонентом для обнаружения сервисов.
- Паттерн "Microservice Chassis" отвечает за реализацию клиентской службы обнаружения.
- Паттерн "Server-Side Discovery" предлагает альтернативное решение этой проблемы.

Этот паттерн позволяет эффективно управлять взаимодействием между клиентами и микросервисами, обеспечивая гибкость и простоту в доступе к различным функциональным возможностям системы.

[Ссылка на источник](https://microservices.io/patterns/client-side-discovery.html)